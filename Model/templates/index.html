  
<!DOCTYPE HTML>
<html>
  <head>
      <title>Canvas</title>
      <!-- https://flask.palletsprojects.com/en/1.1.x/tutorial/static/ -->
      <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
  </head>
  <body>
    <style>
    </style>

    <!-- 28 / 20 = 28, this means our canvas is 20x the image -->
    <canvas id="myCanvas"width="560" height="560" style="border:1px solid #8664EF;"></canvas>

    <div id="content-wrapper">
      <header class="header header--bg">
        <div class="container">
    
          <div class="header__content text-center">
            <button class="header__button" onclick="Predict()">Predict</button>
            <button class="header__button" onclick="ClearCanvas()">Clear</button>
            <h1 class="header__content__title" id="prediction"></h1>
          </div>
        </div>
      </header>
    </div>

    <br>
    <!-- <button class="button" id="Predict" onclick="Predict()">Predict</button>
    <button class="button" id="Clear" onclick="ClearCanvas()">Clear</button> -->
    <!-- <h3 id="prediction"></h3> -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script>
      var canvas = document.getElementById('myCanvas');
      var ctx = canvas.getContext('2d');
      var mouse = {x: 0, y: 0};
      
      canvas.addEventListener('mousemove', function(e) {
        mouse.x = e.pageX - this.offsetLeft;
        mouse.y = e.pageY - this.offsetTop;
      }, false);
      
      // Define brush size
      ctx.lineWidth = 3;
      // Define brush type
      ctx.lineJoin = 'round';
      ctx.lineCap = 'round';
      // Define brush colour
      ctx.strokeStyle = '#ff0000';
      
      canvas.addEventListener('mousedown', function(e) {
          ctx.beginPath();
          ctx.moveTo(mouse.x, mouse.y);
      
          canvas.addEventListener('mousemove', onPaint, false);
      }, false);
      
      // Check for mouse up
      canvas.addEventListener('mouseup', function() {
          canvas.removeEventListener('mousemove', onPaint, false);
      }, false);
      
      // Handle drawing
      var onPaint = function() {
          ctx.lineTo(mouse.x, mouse.y);
          ctx.stroke();
      };
      function Predict() {
        var datastring = document.getElementById('myCanvas').toDataURL("image/png");
        // https://flouthoc.github.io/minAjax.js/
        $.ajax({   
            url: '/predict', // to call the method Predict
            method: 'POST', // Type of Request
            data: { // Data as a ImageBase64 which will be decoded
            imageBase64: datastring
            },
            // Print the result if an error occurs print Error.
            success: function(res){           
              document.getElementById("prediction").innerHTML = res;
            },error: function(err){   
              document.getElementById("prediction").innerHTML = "Error.";
            }
        });
      }
      // Clears the canvas.
      var ClearCanvas = function() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
      };
    </script>
  </body>
</html>     